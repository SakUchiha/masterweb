class SyntaxChecker{constructor(){this.errors=[],this.warnings=[]}checkHTML(e){this.errors=[],this.warnings=[],e.trim().toLowerCase().startsWith("<!doctype")||this.warnings.push({type:"warning",message:"Missing DOCTYPE declaration",line:1,suggestion:"Add <!DOCTYPE html> at the beginning"});const s=/<html[^>]*>/i.test(e),i=/<head[^>]*>/i.test(e),t=/<body[^>]*>/i.test(e);return s||this.errors.push({type:"error",message:"Missing <html> tag",line:this.findLineNumber(e,"<html"),suggestion:"Wrap your content in <html> tags"}),i||this.warnings.push({type:"warning",message:"Missing <head> section",line:1,suggestion:"Add a <head> section for metadata"}),t||this.errors.push({type:"error",message:"Missing <body> tag",line:this.findLineNumber(e,"<body"),suggestion:"Add a <body> section for content"}),this.checkUnclosedTags(e),this.checkImageAltAttributes(e),this.checkTagNesting(e),{errors:this.errors,warnings:this.warnings,isValid:0===this.errors.length}}checkCSS(e){this.errors=[],this.warnings=[];const s=e.replace(/\/\*[\s\S]*?\*\//g,"");return this.checkMissingSemicolons(s),this.checkMissingBraces(s),this.checkInvalidProperties(s),this.checkMissingQuotes(s),{errors:this.errors,warnings:this.warnings,isValid:0===this.errors.length}}checkJavaScript(e){this.errors=[],this.warnings=[];try{new Function(e)}catch(e){this.errors.push({type:"error",message:e.message,line:this.extractLineNumber(e.message),suggestion:"Check syntax and fix the error"})}return this.checkUndefinedVariables(e),this.checkMissingSemicolons(e),this.checkConsoleLogs(e),{errors:this.errors,warnings:this.warnings,isValid:0===this.errors.length}}checkUnclosedTags(e){const s=/<(\w+)(?:\s[^>]*)?(?:\s*\/)?>/g,i=/<\/(\w+)>/g,t=[],n=[];let r;for(;null!==(r=s.exec(e));){const s=r[1].toLowerCase();r[0].endsWith("/>")||this.isSelfClosingTag(s)||t.push({name:s,position:r.index,line:this.findLineNumber(e,r[0])})}for(;null!==(r=i.exec(e));)n.push({name:r[1].toLowerCase(),position:r.index,line:this.findLineNumber(e,r[0])});const o=[];for(const e of t)o.push(e);for(const e of n){const s=o[o.length-1];s&&s.name===e.name&&o.pop()}for(const e of o)this.errors.push({type:"error",message:`Unclosed <${e.name}> tag`,line:e.line,suggestion:`Add closing </${e.name}> tag`})}checkImageAltAttributes(e){const s=/<img[^>]*>/gi;let i;for(;null!==(i=s.exec(e));)i[0].includes("alt=")||this.warnings.push({type:"warning",message:"Image missing alt attribute",line:this.findLineNumber(e,i[0]),suggestion:'Add alt="description" to improve accessibility'})}checkTagNesting(e){[{pattern:/<p[^>]*>[\s\S]*?<(div|h[1-6])[\s\S]*?<\/p>/gi,message:"Block elements cannot be nested inside <p> tags"},{pattern:/<(div|span)[^>]*>[\s\S]*?<(div|span)[^>]*>[\s\S]*?<\/(div|span)>[\s\S]*?<\/(div|span)>/gi,message:"Check for proper tag nesting"}].forEach(s=>{s.pattern.test(e)&&this.warnings.push({type:"warning",message:s.message,line:1,suggestion:"Review HTML structure and nesting"})})}checkMissingSemicolons(e){e.split("\n").forEach((e,s)=>{const i=e.trim();!i||i.endsWith(";")||i.endsWith("{")||i.endsWith("}")||i.startsWith("/*")||i.startsWith("*")||i.startsWith("@")||!i.includes(":")||this.warnings.push({type:"warning",message:"Missing semicolon",line:s+1,suggestion:"Add semicolon at the end of the line"})})}checkMissingBraces(e){(e.match(/\{/g)||[]).length!==(e.match(/\}/g)||[]).length&&this.errors.push({type:"error",message:"Mismatched braces",line:1,suggestion:"Check that all opening braces { have matching closing braces }"})}checkInvalidProperties(e){const s=["color","background-color","font-size","font-family","margin","padding","width","height","display","position","top","left","right","bottom","border","border-radius","text-align","line-height","font-weight"],i=/([a-zA-Z-]+)\s*:/g;let t;for(;null!==(t=i.exec(e));){const i=t[1];s.includes(i)||i.startsWith("--")||this.warnings.push({type:"warning",message:`Unknown CSS property: ${i}`,line:this.findLineNumber(e,t[0]),suggestion:"Check spelling or use a valid CSS property"})}}checkMissingQuotes(e){const s=/font-family\s*:\s*([^;]+)/gi;let i;for(;null!==(i=s.exec(e));){const s=i[1].trim();s.startsWith('"')||s.startsWith("'")||!s.includes(" ")||this.warnings.push({type:"warning",message:"Font family names with spaces should be quoted",line:this.findLineNumber(e,i[0]),suggestion:'Wrap font family names in quotes: "Times New Roman"'})}}checkUndefinedVariables(e){[{pattern:/\bundefinedVariable\b/g,message:'Variable "undefinedVariable" is not defined'},{pattern:/\bmyUndefinedFunction\b/g,message:'Function "myUndefinedFunction" is not defined'}].forEach(s=>{s.pattern.test(e)&&this.warnings.push({type:"warning",message:s.message,line:1,suggestion:"Define the variable or function before using it"})})}checkMissingSemicolons(e){e.split("\n").forEach((e,s)=>{const i=e.trim();!i||i.endsWith(";")||i.endsWith("{")||i.endsWith("}")||i.startsWith("//")||i.startsWith("/*")||i.startsWith("*")||!(i.includes("=")||i.includes("return")||i.includes("console.log"))||this.warnings.push({type:"warning",message:"Consider adding semicolon",line:s+1,suggestion:"Add semicolon at the end of the statement"})})}checkConsoleLogs(e){e.includes("console.log")&&this.warnings.push({type:"info",message:"Console.log statements found",line:1,suggestion:"Remember to remove console.log statements in production code"})}findLineNumber(e,s){const i=e.split("\n");for(let e=0;e<i.length;e++)if(i[e].includes(s))return e+1;return 1}extractLineNumber(e){const s=e.match(/line (\d+)/i);return s?parseInt(s[1]):1}isSelfClosingTag(e){return["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].includes(e.toLowerCase())}getSuggestions(e,s){return{html:{"unclosed-tag":"Make sure every opening tag has a corresponding closing tag","missing-alt":"Add alt attributes to images for accessibility","invalid-nesting":"Check that tags are properly nested"},css:{"missing-semicolon":"Add semicolons at the end of CSS properties","missing-brace":"Check that all braces are properly matched","invalid-property":"Verify CSS property names are correct"},javascript:{"syntax-error":"Check for missing parentheses, brackets, or quotes","undefined-variable":"Make sure variables are declared before use","missing-semicolon":"Consider adding semicolons for clarity"}}[s]?.[e]||"Review your code for syntax issues"}}if("undefined"!=typeof module&&module.exports&&(module.exports=SyntaxChecker),"undefined"!=typeof window)try{window.SyntaxChecker=SyntaxChecker}catch(e){}