class SyntaxHighlighter{constructor(){this.rules={html:{tag:/(<\/?[\w\s="'-]+>)/g,attribute:/\s([\w-]+)="([^"]*)"/g,comment:/(<!--[\s\S]*?-->)/g,doctype:/(<!DOCTYPE[^>]*>)/g},css:{selector:/^([^{]+)\{/gm,property:/([a-z-]+):/g,value:/:\s*([^;]+);/g,comment:/(\/\*[\s\S]*?\*\/)/g,atRule:/(@[a-z-]+[^;{]*)/g},javascript:{keyword:/\b(const|let|var|function|if|else|for|while|return|class|extends|import|export|from|async|await|try|catch|finally|throw)\b/g,string:/(["'`])(.*?)\1/g,number:/\b\d+(\.\d+)?\b/g,function:/\b([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(/g,comment:/(\/\/.*$|\/\*[\s\S]*?\*\/)/gm,operator:/([+\-*/=<>!&|]+)/g}},this.colors={html:{tag:"#e06c75",attribute:"#d19a66",comment:"#5c6370",doctype:"#c678dd"},css:{selector:"#e06c75",property:"#61afef",value:"#98c379",comment:"#5c6370",atRule:"#c678dd"},javascript:{keyword:"#c678dd",string:"#98c379",number:"#d19a66",function:"#61afef",comment:"#5c6370",operator:"#56b6c2"}}}highlight(t,e){if(!t||!this.rules[e])return t;let n=t;n=this.escapeHtml(n);const r=this.rules[e],i=this.colors[e];return Object.keys(r).forEach(t=>{const e=r[t],s=i[t];n=n.replace(e,(t,...e)=>{const n=e.length>1&&void 0!==e[1]?e[1]:t;return`<span style="color: ${s}">${this.escapeHtml(n)}</span>`})}),n}escapeHtml(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}applyHighlighting(t,e){const n=t.value,r=this.highlight(n,e),i=document.createElement("pre");i.className="syntax-highlighted",i.innerHTML=r,i.style.cssText=`\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      margin: 0;\n      padding: ${t.style.padding||"1rem"};\n      border: none;\n      background: transparent;\n      color: inherit;\n      font-family: inherit;\n      font-size: inherit;\n      line-height: inherit;\n      pointer-events: none;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n      overflow-wrap: break-word;\n      z-index: 1;\n    `,t.style.cssText+="\n      position: relative;\n      background: transparent;\n      color: transparent;\n      caret-color: #e2e8f0;\n      z-index: 2;\n    ",t.parentNode.insertBefore(i,t);const s=()=>{i.scrollTop=t.scrollTop,i.scrollLeft=t.scrollLeft};t.addEventListener("scroll",s),t.addEventListener("input",()=>{s(),this.updateHighlighting(t,i,e)}),this.updateHighlighting(t,i,e)}updateHighlighting(t,e,n){const r=t.value,i=this.highlight(r,n);e.innerHTML=i}removeHighlighting(t){const e=t.previousElementSibling;e&&"syntax-highlighted"===e.className&&e.remove(),t.style.cssText=t.style.cssText.replace(/position: relative;|background: transparent;|color: transparent;|caret-color: [^;]+;|z-index: 2;/g,"")}}const syntaxHighlighter=new SyntaxHighlighter;window.syntaxHighlighter=syntaxHighlighter;