/*! For license information please see api.a58629a86ffbe7e7136d.js.LICENSE.txt */
(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){var t,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.toStringTag||"@@toStringTag";function a(e,o,i,c){var a=o&&o.prototype instanceof s?o:s,f=Object.create(a.prototype);return n(f,"_invoke",function(e,n,o){var i,c,a,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,c=0,a=t,p.n=n,u}};function h(e,n){for(c=e,a=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,i=f[r],h=p.p,y=i[2];e>3?(o=y===n)&&(a=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=e<2&&h<i[1])?(c=0,p.v=n,p.n=i[1]):h<y&&(o=e<3||i[0]>n||n>y)&&(i[4]=e,i[5]=n,p.n=y,c=0))}if(o||e>1)return u;throw l=!0,n}return function(o,f,y){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&h(f,y),c=f,a=y;(r=c<2?t:a)||!l;){i||(c?c<3?(c>1&&(p.n=-1),h(c,a)):p.n=a:p.v=a);try{if(s=2,i){if(c||(o="next"),r=i[o]){if(!(r=r.call(i,a)))throw TypeError("iterator result is not an object");if(!r.done)return r;a=r.value,c<2&&(c=0)}else 1===c&&(r=i.return)&&r.call(i),c<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((r=(l=p.n<0)?a:e.call(n,p))!==u)break}catch(e){i=t,c=1,a=e}finally{s=1}}return{value:r,done:l}}}(e,i,c),!0),f}var u={};function s(){}function f(){}function l(){}r=Object.getPrototypeOf;var p=[][i]?r(r([][i]())):(n(r={},i,function(){return this}),r),h=l.prototype=s.prototype=Object.create(p);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,n(t,c,"GeneratorFunction")),t.prototype=Object.create(h),t}return f.prototype=l,n(h,"constructor",l),n(l,"constructor",f),f.displayName="GeneratorFunction",n(l,c,"GeneratorFunction"),n(h),n(h,c,"Generator"),n(h,i,function(){return this}),n(h,"toString",function(){return"[object Generator]"}),(e=function(){return{w:a,m:y}})()}function n(t,e,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}n=function(t,e,r,o){function c(e,r){n(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[e]=r:(c("next",0),c("throw",1),c("return",2))},n(t,e,r,o)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function i(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e,n,r,o,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,u,"next",t)}function u(t){c(i,r,o,a,u,"throw",t)}a(void 0)})}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}var f=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new Map,this.pendingRequests=new Map},n=[{key:"request",value:(c=a(e().m(function t(n){var r,i,c,u,s,f,l,p,h=this,y=arguments;return e().w(function(t){for(;;)switch(t.n){case 0:if(r=y.length>1&&void 0!==y[1]?y[1]:{},i=!(y.length>2&&void 0!==y[2])||y[2],c="".concat(CONFIG.API_BASE_URL).concat(n),u="".concat(r.method||"GET","-").concat(c),!i||!this.cache.has(u)){t.n=2;break}if(s=this.cache.get(u),!(Date.now()-s.timestamp<CONFIG.CACHE_DURATION)){t.n=1;break}return t.a(2,s.data);case 1:this.cache.delete(u);case 2:if(!this.pendingRequests.has(u)){t.n=3;break}return t.a(2,this.pendingRequests.get(u));case 3:return f=new AbortController,l=setTimeout(function(){return f.abort()},CONFIG.API_TIMEOUT),p=fetch(c,o(o({},r),{},{signal:f.signal,headers:o({"Content-Type":"application/json"},r.headers)})).then(function(){var t=a(e().m(function t(n){var o,c,a,s,f;return e().w(function(t){for(;;)switch(t.n){case 0:if(clearTimeout(l),o=(n.headers.get("content-type")||"").toLowerCase(),n.ok){t.n=5;break}if(c={},!o.includes("application/json")){t.n=2;break}return t.n=1,n.json().catch(function(){return{}});case 1:c=t.v,t.n=4;break;case 2:return t.n=3,n.text().catch(function(){return""});case 3:a=t.v,c={error:a||"".concat(n.status," ").concat(n.statusText)};case 4:throw new Error(c.error||"HTTP ".concat(n.status,": ").concat(n.statusText));case 5:if(!o.includes("application/json")){t.n=7;break}return t.n=6,n.json().catch(function(t){return{}});case 6:s=t.v,t.n=9;break;case 7:return t.n=8,n.text().catch(function(){return""});case 8:f=t.v;try{s=f?JSON.parse(f):{}}catch(t){s={__raw:f}}case 9:return!i||r.method&&"GET"!==r.method||h.cache.set(u,{data:s,timestamp:Date.now()}),t.a(2,s)}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){if(clearTimeout(l),"AbortError"===t.name)throw new Error("Request timeout");throw t}).finally(function(){h.pendingRequests.delete(u)}),this.pendingRequests.set(u,p),t.a(2,p)}},t,this)})),function(t){return c.apply(this,arguments)})},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.request(t,{method:"GET"},e)}},{key:"post",value:function(t,e){return this.request(t,{method:"POST",body:JSON.stringify(e)},!1)}},{key:"put",value:function(t,e){return this.request(t,{method:"PUT",body:JSON.stringify(e)},!1)}},{key:"delete",value:function(t){return this.request(t,{method:"DELETE"},!1)}},{key:"clearCache",value:function(){this.cache.clear()}},{key:"checkAvailability",value:(i=a(e().m(function t(){return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.get("/api/lessons",!1);case 1:return t.a(2,!0);case 2:return t.p=2,t.v,t.a(2,!1)}},t,this,[[0,2]])})),function(){return i.apply(this,arguments)})}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r,i,c}());window.apiService=f})();