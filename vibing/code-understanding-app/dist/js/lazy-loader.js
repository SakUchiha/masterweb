class LazyLoader{constructor(){this.observer=null,this.init()}init(){this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&this.loadElement(e.target)})},{rootMargin:"50px 0px",threshold:.01}),this.observeImages(),this.observeComponents()}observeImages(){document.querySelectorAll("img[data-src]").forEach(e=>{this.observer.observe(e)})}observeComponents(){document.querySelectorAll(".lesson-card[data-lazy]").forEach(e=>{this.observer.observe(e)}),document.querySelectorAll(".feature-card[data-lazy]").forEach(e=>{this.observer.observe(e)})}loadElement(e){"IMG"===e.tagName?this.loadImage(e):e.classList.contains("lesson-card")?this.loadLessonCard(e):e.classList.contains("feature-card")&&this.loadFeatureCard(e),this.observer.unobserve(e)}loadImage(e){const t=e.getAttribute("data-src");t&&(e.src=t,e.classList.remove("lazy"),e.classList.add("loaded"))}loadLessonCard(e){e.classList.add("animate-in"),e.removeAttribute("data-lazy")}loadFeatureCard(e){e.classList.add("animate-in"),e.removeAttribute("data-lazy")}preloadCritical(){const e=document.querySelector('link[rel="stylesheet"]');e&&(e.rel="preload",e.as="style",e.onload=function(){this.rel="stylesheet"});const t=document.querySelector('script[src*="main"]');if(t){const e=document.createElement("link");e.rel="preload",e.as="script",e.href=t.src,document.head.appendChild(e)}}loadNonCritical(){["https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"].forEach(e=>{const t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}),[].forEach(e=>{const t=document.createElement("script");t.src=e,t.defer=!0,document.body.appendChild(t)})}}document.addEventListener("DOMContentLoaded",()=>{window.lazyLoader=new LazyLoader,window.lazyLoader.preloadCritical(),window.addEventListener("load",()=>{setTimeout(()=>{window.lazyLoader.loadNonCritical()},100)})}),"undefined"!=typeof module&&module.exports&&(module.exports=LazyLoader);