if("undefined"==typeof ErrorBoundary){class e{constructor(){this.errorCount=0,this.maxErrors=5,this.errorResetTime=3e5,this.lastErrorTime=0}init(){window.addEventListener("error",e=>{this.handleGlobalError(e.error,e.message,e.filename,e.lineno,e.colno)}),window.addEventListener("unhandledrejection",e=>{this.handleUnhandledRejection(e.reason)}),document.addEventListener("visibilitychange",()=>{document.hidden||this.resetErrorCount()}),"undefined"==typeof uiManager&&(window.uiManager={showError:function(e,r){const n=document.createElement("div");n.className="error-message",n.innerHTML=`\n              <div style="background: #ff5757; color: white; padding: 1rem; margin: 1rem; border-radius: 4px;">\n                <p>${e}</p>\n                ${r?'<button onclick="window.location.reload()">Retry</button>':""}\n              </div>\n            `,document.body.appendChild(n)}})}handleGlobalError(e,r,n,t,o){this.errorCount++;const i={message:r||e?.message,stack:e?.stack,filename:n,lineno:t,colno:o,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href};this.errorCount>=this.maxErrors?this.handleCriticalError(i):(this.showUserError(i),this.reportError(i))}handleUnhandledRejection(e){const r={message:e?.message||"Unhandled promise rejection",stack:e?.stack,timestamp:(new Date).toISOString(),type:"promise_rejection"};this.showUserError(r),this.reportError(r)}handleCriticalError(e){this.showCriticalErrorOverlay(),this.disableFeatures()}showUserError(e){let r="An unexpected error occurred. ";e.message?.includes("fetch")?r+="Please check your internet connection.":e.message?.includes("script")?r+="Some features may not work properly.":r+="Please try refreshing the page.",uiManager.showError(r,()=>window.location.reload())}showCriticalErrorOverlay(){const e=document.createElement("div");e.id="critical-error-overlay",e.innerHTML='\n      <div class="critical-error-modal">\n        <div class="critical-error-content">\n          <i class="fas fa-exclamation-triangle"></i>\n          <h2>Something went wrong</h2>\n          <p>We\'ve encountered multiple errors. Please refresh the page to continue.</p>\n          <button onclick="window.location.reload()" class="btn btn-primary">\n            <i class="fas fa-refresh"></i> Refresh Page\n          </button>\n        </div>\n      </div>\n    ',e.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0,0,0,0.8);\n      z-index: 9999;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    ",document.body.appendChild(e)}disableFeatures(){window.autoRunEnabled&&(window.autoRunEnabled=!1),window.apiService&&window.apiService.clearCache(),window.aiAssistant&&(window.aiAssistant=null)}reportError(e){CONFIG.DEBUG_MODE;try{const r=JSON.parse(localStorage.getItem("app_errors")||"[]");r.push(e),r.length>10&&r.shift(),localStorage.setItem("app_errors",JSON.stringify(r))}catch(e){}}resetErrorCount(){const e=Date.now();e-this.lastErrorTime>this.errorResetTime&&(this.errorCount=0,this.lastErrorTime=e)}getErrorStats(){return{count:this.errorCount,maxErrors:this.maxErrors,lastErrorTime:this.lastErrorTime}}safeExecute(e,r=null,n=null){try{return e.call(n)}catch(e){return this.handleGlobalError(e),r}}async safeExecuteAsync(e,r=null,n=null){try{return await e.call(n)}catch(e){return this.handleGlobalError(e),r}}}if(!window.errorBoundary){const r=new e;window.errorBoundary=r,window.DISABLE_ERROR_BOUNDARY||r.init()}"undefined"!=typeof module&&module.exports&&(module.exports=e)}