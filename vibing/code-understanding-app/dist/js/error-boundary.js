if("undefined"==typeof ErrorBoundary){class r{constructor(){this.errorCount=0,this.maxErrors=5,this.errorResetTime=3e5,this.lastErrorTime=0}init(){window.addEventListener("error",r=>{this.handleGlobalError(r.error,r.message,r.filename,r.lineno,r.colno)}),window.addEventListener("unhandledrejection",r=>{this.handleUnhandledRejection(r.reason)}),document.addEventListener("visibilitychange",()=>{document.hidden||this.resetErrorCount()});const r=()=>{void 0===window.uiManager&&(window.uiManager={showError:function(r,e){const n=document.createElement("div");n.className="error-message",n.innerHTML=`\n                <div style="background: #ff5757; color: white; padding: 1rem; margin: 1rem; border-radius: 4px; position: fixed; top: 20px; right: 20px; z-index: 10000; max-width: 400px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">\n                  <p style="margin: 0 0 10px 0;">${r}</p>\n                  ${e?'<button style="background: white; color: #ff5757; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: bold;" onclick="window.location.reload()">Retry</button>':""}\n                </div>\n              `,document.body.appendChild(n),setTimeout(()=>{n.parentNode&&n.remove()},1e4)}})};r(),setTimeout(r,100)}handleGlobalError(r,e,n,t,o){this.errorCount++;const i={message:e||r?.message,stack:r?.stack,filename:n,lineno:t,colno:o,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href};this.errorCount>=this.maxErrors?this.handleCriticalError(i):(this.showUserError(i),this.reportError(i))}handleUnhandledRejection(r){const e={message:r?.message||"Unhandled promise rejection",stack:r?.stack,timestamp:(new Date).toISOString(),type:"promise_rejection"};this.showUserError(e),this.reportError(e)}handleCriticalError(r){this.showCriticalErrorOverlay(),this.disableFeatures()}showUserError(r){let e="An unexpected error occurred. ";r.message?.includes("fetch")?e+="Please check your internet connection.":r.message?.includes("script")?e+="Some features may not work properly.":e+="Please try refreshing the page.",void 0!==window.uiManager&&window.uiManager.showError&&window.uiManager.showError(e,()=>window.location.reload())}showCriticalErrorOverlay(){const r=document.createElement("div");r.id="critical-error-overlay",r.innerHTML='\n      <div class="critical-error-modal">\n        <div class="critical-error-content">\n          <i class="fas fa-exclamation-triangle"></i>\n          <h2>Something went wrong</h2>\n          <p>We\'ve encountered multiple errors. Please refresh the page to continue.</p>\n          <button onclick="window.location.reload()" class="btn btn-primary">\n            <i class="fas fa-refresh"></i> Refresh Page\n          </button>\n        </div>\n      </div>\n    ',r.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0,0,0,0.8);\n      z-index: 9999;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    ",document.body.appendChild(r)}disableFeatures(){window.autoRunEnabled&&(window.autoRunEnabled=!1),window.apiService&&window.apiService.clearCache(),window.aiAssistant&&(window.aiAssistant=null)}reportError(r){CONFIG.DEBUG_MODE;try{const e=JSON.parse(localStorage.getItem("app_errors")||"[]");e.push(r),e.length>10&&e.shift(),localStorage.setItem("app_errors",JSON.stringify(e))}catch(r){}}resetErrorCount(){const r=Date.now();r-this.lastErrorTime>this.errorResetTime&&(this.errorCount=0,this.lastErrorTime=r)}getErrorStats(){return{count:this.errorCount,maxErrors:this.maxErrors,lastErrorTime:this.lastErrorTime}}safeExecute(r,e=null,n=null){try{return r.call(n)}catch(r){return this.handleGlobalError(r),e}}async safeExecuteAsync(r,e=null,n=null){try{return await r.call(n)}catch(r){return this.handleGlobalError(r),e}}}if(!window.errorBoundary){const e=new r;window.errorBoundary=e,window.DISABLE_ERROR_BOUNDARY||e.init()}"undefined"!=typeof module&&module.exports&&(module.exports=r)}