(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}function n(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var a=o.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}var o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pages=["index.html","lessons.html","editor.html","ai.html","ask-ai.html","code-explainer.html","study-guide.html"],this.currentPage=this.getCurrentPage(),this.mobileMenuOpen=!1,this.init()},n=[{key:"init",value:function(){this.createNavigationButtons(),this.updateButtonStates(),this.initMobileMenu(),this.initTouchGestures(),this.initKeyboardNavigation(),this.addButtonFeedback()}},{key:"getCurrentPage",value:function(){return window.location.pathname.split("/").pop()||"index.html"}},{key:"createNavigationButtons",value:function(){var e=this;window.ThemeManager&&window.ThemeManager.addThemeToggleToNavigation&&window.ThemeManager.addThemeToggleToNavigation();var t=document.createElement("div");t.className="nav-buttons";var n=document.createElement("button");n.className="nav-btn back",n.innerHTML='<i class="fas fa-arrow-left"></i>',n.title="Go Back",n.setAttribute("aria-label","Go to previous page"),n.onclick=function(){return e.goBack()};var o=document.createElement("button");o.className="nav-btn forward",o.innerHTML='<i class="fas fa-arrow-right"></i>',o.title="Go Forward",o.setAttribute("aria-label","Go to next page"),o.onclick=function(){return e.goForward()},t.appendChild(n),t.appendChild(o),document.body.appendChild(t)}},{key:"updateButtonStates",value:function(){var e=this.pages.indexOf(this.currentPage),t=document.querySelector(".nav-btn.back"),n=document.querySelector(".nav-btn.forward");t&&n&&(t.disabled=e<=0,n.disabled=e>=this.pages.length-1)}},{key:"goBack",value:function(){var e=this.pages.indexOf(this.currentPage);if(e>0){var t=this.pages[e-1];this.navigateToPage(t)}}},{key:"goForward",value:function(){var e=this.pages.indexOf(this.currentPage);if(e<this.pages.length-1){var t=this.pages[e+1];this.navigateToPage(t)}}},{key:"navigateToPage",value:function(e){window.router?(document.body.style.opacity="0.7",setTimeout(function(){window.router.navigate(e),document.body.style.opacity="1"},150)):window.location.href=e}},{key:"initMobileMenu",value:function(){var e=this,t=document.createElement("button");t.className="mobile-menu-toggle",t.innerHTML="&#9776;",t.setAttribute("aria-label","Toggle menu"),document.body.appendChild(t),t.addEventListener("click",function(){e.toggleMobileMenu()}),document.addEventListener("click",function(t){var n=document.querySelector(".mobile-nav"),o=document.querySelector(".mobile-menu-toggle");!e.mobileMenuOpen||n.contains(t.target)||o.contains(t.target)||e.closeMobileMenu()}),document.querySelectorAll(".mobile-nav .nav-link").forEach(function(t){t.addEventListener("click",function(){return e.closeMobileMenu()})})}},{key:"toggleMobileMenu",value:function(){var e=document.querySelector(".mobile-nav");document.querySelector(".mobile-menu-toggle"),e?this.mobileMenuOpen?this.closeMobileMenu():this.openMobileMenu():this.createMobileMenu()}},{key:"openMobileMenu",value:function(){var e=document.querySelector(".mobile-nav"),t=document.querySelector(".mobile-menu-toggle");if(e&&t){e.classList.add("open"),t.innerHTML='<i class="fas fa-times"></i>',t.setAttribute("aria-expanded","true"),this.mobileMenuOpen=!0;var n=e.querySelector(".nav-link");n&&n.focus()}}},{key:"createMobileMenu",value:function(){var e=this,t=document.createElement("nav");t.className="mobile-nav";var n=document.createElement("div");n.className="nav-links";var o=document.querySelector(".main-nav");o&&o.querySelectorAll(".nav-link").forEach(function(e){var t=e.cloneNode(!0);n.appendChild(t)}),t.appendChild(n),document.querySelector(".main-header .container").appendChild(t),n.querySelectorAll(".nav-link").forEach(function(t){t.addEventListener("click",function(){return e.closeMobileMenu()})}),this.openMobileMenu()}},{key:"closeMobileMenu",value:function(){var e=document.querySelector(".mobile-nav"),t=document.querySelector(".mobile-menu-toggle");e&&t&&(e.classList.remove("open"),t.innerHTML='<i class="fas fa-bars"></i>',t.setAttribute("aria-expanded","false"),this.mobileMenuOpen=!1)}},{key:"initTouchGestures",value:function(){var e=this,t=0,n=0,o=0;document.addEventListener("touchstart",function(e){t=e.touches[0].clientX,n=e.touches[0].clientY,o=Date.now()},{passive:!0}),document.addEventListener("touchend",function(a){if(t&&n){var i=a.changedTouches[0].clientX,r=a.changedTouches[0].clientY,u=Date.now(),c=t-i,l=n-r,s=u-o;Math.abs(c)>Math.abs(l)&&Math.abs(c)>50&&s<500&&(c>0?(e.goForward(),e.showSwipeFeedback("forward")):(e.goBack(),e.showSwipeFeedback("back")),document.dispatchEvent(new CustomEvent("swipeNavigation"))),t=0,n=0,o=0}},{passive:!0})}},{key:"showSwipeFeedback",value:function(e){var t=document.createElement("div");t.className="swipe-feedback swipe-".concat(e),t.innerHTML="forward"===e?'<i class="fas fa-arrow-right"></i>':'<i class="fas fa-arrow-left"></i>',t.style.cssText="\n      position: fixed;\n      top: 50%;\n      ".concat("forward"===e?"right: 20px;":"left: 20px;","\n      transform: translateY(-50%);\n      background: var(--primary);\n      color: white;\n      padding: 10px 15px;\n      border-radius: 50px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n      z-index: 10000;\n      animation: swipeFeedback 0.5s ease-out;\n      pointer-events: none;\n    "),document.body.appendChild(t),setTimeout(function(){t.parentNode&&t.remove()},500)}},{key:"addButtonFeedback",value:function(){document.querySelectorAll(".nav-btn").forEach(function(e){e.addEventListener("click",function(){e.style.transform="scale(0.95)",setTimeout(function(){e.style.transform=""},150)})})}},{key:"initKeyboardNavigation",value:function(){var e=this;document.addEventListener("keydown",function(t){t.altKey&&("ArrowLeft"===t.key?(t.preventDefault(),e.goBack()):"ArrowRight"===t.key&&(t.preventDefault(),e.goForward())),"Escape"===t.key&&e.mobileMenuOpen&&e.closeMobileMenu()})}}],n&&t(e.prototype,n),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,o}();document.addEventListener("DOMContentLoaded",function(){new o})})();