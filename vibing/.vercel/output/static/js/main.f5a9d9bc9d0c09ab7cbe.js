(()=>{function t(){try{var t=window.location.pathname,n=window.location.search;window.location.hash;if("localhost"===window.location.hostname||window.location.hostname,"/"===t||"/index.html"===t)o("home");else if(t.startsWith("/lesson-viewer")){var a=new URLSearchParams(n).get("id");a?(localStorage.setItem("lesson",a),function(t){try{"localhost"===window.location.hostname||window.location.hostname,document.body.setAttribute("data-lesson",t)}catch(t){}}(a)):e("/")}else{var i=t.replace(/^\//,"").replace(/\.html$/,"");o(i||"home")}}catch(t){o("home")}}function e(e){window.history.pushState({},"",e),t()}function o(t){try{"localhost"===window.location.hostname||window.location.hostname,document.body.setAttribute("data-page",t)}catch(t){}}document.addEventListener("DOMContentLoaded",function(){try{document.addEventListener("click",function(t){var o=t.target.closest('a[href^="/"]');if(o){t.preventDefault();var n=o.getAttribute("href");n.startsWith("http")?window.location.href=n:e(n)}}),t(),window.addEventListener("popstate",t)}catch(t){document.body.innerHTML='<div style="padding: 20px; text-align: center;"><h1>Application Error</h1><p>Please refresh the page to try again.</p></div>'}})})();